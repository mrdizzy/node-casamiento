{"ts":1351719957179,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1351719977149,"patch":[[{"diffs":[[1,"\r\nmodule.exports = function collateAttachments(req, callback) {\r\n    var collated = {}\r\n    async.forEach(Object.keys(req.files), function(key, callback) {\r\n        var thisFile = req.files[key];\r\n        if (thisFile.size > 0) {\r\n            fs.readFile(thisFile.path, function(err, data) {\r\n\r\n                collated[key] = {}\r\n                collated[key][\"content_type\"] = \"image/png\";\r\n                collated[key][\"data\"] = data.toString('base64');\r\n\r\n                callback(err);\r\n            })\r\n        }\r\n        else {\r\n            callback(null)\r\n        }\r\n    }, function(err) {\r\n        if (err == null) {\r\n            callback(null, collated)\r\n        }\r\n        else {\r\n            callback(null)\r\n        }\r\n    })\r\n}\r\n"]],"start1":0,"start2":0,"length1":0,"length2":742}]],"length":742,"saved":false}
{"contributors":[],"silentsave":false,"ts":1351771312182,"patch":[[{"diffs":[[0,"data"],[-1,".toString('base64')"],[0,";\r\n\r"]],"start1":433,"start2":433,"length1":27,"length2":8}]],"length":723,"saved":false}
{"ts":1351771373496,"patch":[[{"diffs":[[0,"] = data"],[-1,";\r\n"],[1,".toString('base64');\r\ncollated[key][\"raw\"] = data;"],[0,"\r\n      "]],"start1":429,"start2":429,"length1":19,"length2":66}]],"length":770,"saved":false}
{"ts":1351771378005,"patch":[[{"diffs":[[0,"e64');\r\n"],[1,"            "],[0,"collated"]],"start1":451,"start2":451,"length1":16,"length2":28}]],"length":782,"saved":false}
{"contributors":[],"silentsave":false,"ts":1358806551171,"patch":[[{"diffs":[[1,"var async = require('async');\r\n"],[0,"\r\nmodule"]],"start1":0,"start2":0,"length1":8,"length2":39}]],"length":813,"saved":false}
{"ts":1358806769514,"patch":[[{"diffs":[[0,"'async')"],[1,",\r\n\r\n    var async = require('async'),"],[0,";\r\n\r\nmod"]],"start1":20,"start2":20,"length1":16,"length2":54}]],"length":851,"saved":false}
{"ts":1358806770733,"patch":[[{"diffs":[[0,"'async')"],[-1,","],[0,";\r\n\r\nmod"]],"start1":57,"start2":57,"length1":17,"length2":16}]],"length":850,"saved":false}
{"ts":1358806786937,"patch":[[{"diffs":[[0,"\r\n\r\n    "],[-1,"var async"],[1,"fs"],[0," = requi"]],"start1":29,"start2":29,"length1":25,"length2":18},{"diffs":[[0,"equire('"],[-1,"async"],[1,"fs"],[0,"');\r\n\r\nm"]],"start1":43,"start2":43,"length1":21,"length2":18}]],"length":840,"saved":false}
