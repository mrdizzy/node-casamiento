<!doctype html>
<html>
<head>
<style type="text/css">

.colour {
  display:block;float:left;
  padding:0;
  border:0;
  margin:0;
  line-height:100px;
  width:100px;
  height:100px;
}
#arrow_left, #arrow_right {
  font-size:30px;
  float:left;
}
#wrapper {
  height:100px;
  width:200px;
  overflow:hidden;
}
#colours_squares {
  width:100px;
  height:150px;
  border:0;padding:0;margin:0;
  overflow-y: hidden;
  overflow-x: scroll
}
#inside {
  padding:0;border:0;margin:0;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>    
<script src="colours.js"></script>    
</head>
<body>
<div id="wrapper">
<div id="colours_squares" style="width:200px;">
    <div id="inside" style="width:10500px;height:100px;position:relative;">
    </div>
</div>
</div>
<div id="arrow_left">&larr;</div>
<div id="arrow_right">&rarr;</div>

</body>
<script>
var pairs = _.pairs(colours)
var groups = inGroupsOf(pairs)

  var colour_divs = []
groups.forEach(function(group) {
  var $colour_div = $('<div style="float:left"></div>');
  group.forEach(function(colour) {
    $colour_div.append('<div style="display:block;float:left;width:50px;height:50px;background-color:' + colour[0] + '" class="square"></div>');
  })
  colour_divs.push($colour_div)
})
console.log(colour_divs)

$('#inside').html(colour_divs)
var counter = 0;
var width = $('#colour_0').width();
console.log(width)
$('#arrow_left').click(function() {
console.log("left")
  counter = counter -1 ;
  var position = $('#colour_' + counter).position();    
  $('#colours_squares').scrollLeft(position);
})

$('#arrow_right').click(function() {
console.log("right")
  counter = counter +1 ;
  console.log(counter)
  var position = $('#colour_' + counter).position().left;  
  console.log(position) 
  $('#colours_squares').scrollLeft(position);
})
function inGroupsOf(arr, n){
  var ret = [];
  var group = [];
  var len = arr.length;
  var per = len * (n / len);

  for (var i = 0; i < len; ++i) {
    group.push(arr[i]);
    if ((i + 1) % n == 0) {
      ret.push(group);
      group = [];
    }
  }
  if (group.length) ret.push(group);
  return ret;
};
</script>
</html>

