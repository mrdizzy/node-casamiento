<!doctype html>
<html>
<head>


    <meta name="viewport" content="initial-scale=1, user-scalable=no">
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript" src="/javascripts/libraries/hammer.js"></script>
</head>
<body>
<div style="height:100px;border:1px solid black;width:75%;overflow:hidden;">
<input id="font" style="display:block;line-height:100px;width:100%;margin:0 auto;font-size:20px;text-align:center;" value="Janet Street-Porter"></input>
</div>
<div id="hammer"></div>
<script>
var hammertime = new Hammer(document.getElementById('font'));
var font = $('#font');
var hammer = $('#hammer')
var original_size = parseInt(font.css("font-size").split("px")[0])
var last_pan = "",
last_distance;
hammertime.on('panright', function(ev) {
console.log("pan right", ev.distance )
  if(last_pan == "left" && ev.distance < last_distance) {
      var amount = original_size - (ev.distance/200 * original_size) ;
  font.css("font-size", amount + "px");
  } else {
  var amount = (ev.distance/200 * original_size) + original_size;
  font.css("font-size", amount + "px");
  last_pan = "right"
  }
  last_distance = ev.distance;
});

hammertime.on('panend', function(ev) {
console.log("PAN END")
  original_size = parseInt(font.css("font-size").split("px")[0])
});

hammertime.on('panleft', function(ev) {
console.log("pan left", ev.distance)
  if(last_pan == "right" && ev.distance < last_distance) {
  console.log("yes")
      var amount = (ev.distance/200 * original_size) + original_size;
  font.css("font-size", amount + "px");
  } else {
  var amount = original_size - (ev.distance/200 * original_size) ;
  font.css("font-size", amount + "px");
  last_pan = "left"
  }
  last_distance = ev.distance;
});
//hammertime.get("pinch").set({enable:true})
//hammertime.on('pinchout', function(ev) {
//var amount = (ev.distance/100 * original_size) + original_size;
//
//  console.log(amount, original_size)
//    font.css("font-size", amount + "px");
// // hammer.html(ev.distance)
//})
//hammertime.on('pinchin', function(ev) {
//var amount = original_size - (ev.distance/100 * original_size);
//
//    font.css("font-size", amount + "px");
// // hammer.html(ev.distance)
//})
//hammertime.on('pinchend', function(ev) {
//  original_size = parseInt(font.css("font-size").split("px")[0])
//});
</script>
</body>
</html>