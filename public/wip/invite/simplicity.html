<!doctype html>
<html>
  <head>
	
		<link rel="stylesheet" href="reset.css" />       
    <link rel="stylesheet" href="stylesheet.css" />   
		
		<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.1/underscore-min.js"></script>    
		<script src="http://code.jquery.com/jquery-latest.min.js"></script>

  </head>
	
  <body>
	
	
	
	

<!-- PRINTER ALERT BOX -->

<div id="ui_print_alert">       

	<img src="/gfx/close/close3.svg" class="close" />    
	
	<div id="choose_layout">Choose layout</div>
	
	<div id="layout_icons_wrapper">
	
		<div class="layout_container" id="folded_invite" style="width:90%;border-radius:10px;">
			<img src="open.svg" style="width:35px;vertical-align:middle;float:left;" />
		
			<div class="details" style="padding-top:5px;text-align:left;font:normal 1.2em 'OS Light';margin-left:50px;">
				If you want to have your invitations folded with a front cover and an inside, then choose this option.<br/>
				<span style="font:normal 0.9em 'OS Light Italic';line-height:0.9em;">Two pages will be printed and after the first page has printed you will need to turn it over and print onto the other side. You will have 2 invitations per A4 page.</span>
			</div>
		</div>
		
		<div class="details" style="clear:both;text-align:center;font:normal 1.2em 'OS Light';margin-left:100px;">
				OR
		</div>
		
		<div class="layout_container" id="flat_invite" style="width:90%;border-radius:10px;">
			<img src="flat.svg" style="width:35px;vertical-align:middle;float:left;" />
		
			<div class="details" style="padding-top:5px;text-align:left;font:normal 1.2em 'OS Light';margin-left:50px;">
					If you want flat invitations printed on both sides, choose this option.<br/>
				<span style="font:normal 0.9em 'OS Light Italic';line-height:0.9em;">One page will be printed. Turn the page over and then print again using this option. You will have 4 invitations per A4 page.</span>
			</div>
		</div>
		
	</div>
	
	
	<div style="margin:0 auto;width:48%;padding-top:0.5em;">
		<div class="grey_button" id="print_now" style="border-radius:10px;clear:both;width:150px;">SUBMIT</div>
	</div>
	
</div>



	
	
	<!-- CONTROL PANEL -->

<div id="control_panel" style="line-height:50px;">
  <img src="/gfx/logo/casamiento_black.svg" style="vertical-align:middle;width:150px" />
	
	<div class="layout_container" id="printer_icon">
		<img src="printer35.svg" style="width:50px;vertical-align:middle;" />
	</div>
	
	<img src="/gfx/logo/drms.svg" style="padding:5px;display:block;float:right;width:140px;"/>
</div>














<!-- USER INTERFACE DISPLAY -->


<div id="ui_area"></div>






<!-- PRINTABLE AREA -->


<div id="printable_area">

	<div class="invitation_front A6_container">

			<img src="simplicity_back.svg" class="invitation_image" />	
			
			<div id="original_monogram" class="monogram">

				<div class="first_name">
					<img class="monogram_top_line" src="line.svg" />
					<img class="monogram_bottom_line" src="line.svg" />
					<span class="editable actual_first_name" contenteditable="true">ANNA</span>
				</div>
				
				<img id="ampersand" src="ampersand.svg" />
				
				<div class="second_name">
					<img class="monogram_top_line" src="line.svg" />
					<img class="monogram_bottom_line" src="line.svg" />
					<span class="editable actual_second_name" contenteditable="true">Peter</span>
				</div>
					
				<div class="monogram_town">
					<span contenteditable="true" class="editable monogram_city">WINCHESTER</span>, 
					<span contenteditable="true" class="editable monogram_county">Hampshire</span>
				</div>
				
				<div contenteditable="true" class="editable monogram_date">July 21st, 2015</div>
				
			</div>
			
			<div contenteditable="true" class="editable bride">David John Pettifer</div>
			
			<div class="and">and</div>
			
			<div class="editable groom" contenteditable="true">Alice Leigh</div>
					
			<div class="request">Request the pleasure of the company of</div>
			
			<div contenteditable="true" class="guestname">Mr Daniel Cooley</div>
			
			<div id="description">
				
				<span class="editable" contenteditable="true">on the occasion of their marriage</span> <img src="bullet.svg" class="bullet" style="display:inline-block;vertical-align:middle;" />
				
				<span class="editable" contenteditable="true">to take place at</span> <img class="bullet" src="bullet.svg" style="display:inline-block;vertical-align:middle;" /> 
						
				<span class="editable" contenteditable="true">The Ravensworth Hotel, Lamesley, Winchester</span> <img src="bullet.svg" class="bullet" style="display:inline-block;vertical-align:middle;" />
				
				<span class="editable" contenteditable="true">on Saturday 17th June 2012 at 1.30pm</span> <img src="bullet.svg" class="bullet" style="display:inline-block;vertical-align:middle;" />
				
				<span class="editable" contenteditable="true">Followed by a Reception at Lakeside Manor Park</span> <img src="bullet.svg" class="bullet" style="display:inline-block;vertical-align:middle;" />
			</div>
			
		</div>
	
		<div class="invitation_back A6_container">
			<img src="simplicity_front.svg" class="invitation_image" />	
			<div class="second_monogram" style="margin-top:35mm;"></div>
			<div style="padding-top:30mm;margin:0 auto;text-align:center;font:normal 1em 'TP';letter-spacing:0.2em">&middot;Invitation&middot;</div>
		</div>
		
		
	
</div>

<script>

  var vw = $('html').width();

	var transform_value = vw / 794

	// Copy monogram to front design
	$('#original_monogram').clone().appendTo('.second_monogram');

	var $front = $('.invitation_front').clone();
	$front.appendTo('#printable_area');
	var $back = $('.invitation_back').clone();
	$back.appendTo('#printable_area')	
	
	var $printable_area = $('#printable_area').clone()
	
	$('#ui_area').html($printable_area.html())
	$('#ui_area').css("transform", "scale(" + transform_value + ")")
	$('#ui_area').css("transform-origin", "top left")
	
	$('.editable').blur(function(e) {
		var $target = $(e.currentTarget);
		var classes = $target.attr('class').split(' ');
		var element_classes_to_change = classes[1];
		var text = $(e.currentTarget).text();
		$('.' + element_classes_to_change).text(text)
	})
	
	$('#folded_invite').click(function() {
	 $front = $('#printable_area .invitation_front')[0];
				$front = $($front);
		$back = $('#printable_area .invitation_back')[0];
		$back = $($back);
	  $('#folded_invite').addClass("selected")
		$('#flat_invite').removeClass("selected")
	  $('#printable_area').html($front.clone().css({float: "right", clear: "both"}));
		$('#printable_area').append($front.clone().css({float:"right", clear: "both"}));
		$('#printable_area').append($back.clone().css({float: "right", clear: "both"}));
		$('#printable_area').append($back.clone().css({float:"right", clear: "none"}))
	})
	
	
	$('#flat_invite').click(function() {
	  $front = $('#printable_area .invitation_front')[0];
		$front = $($front);
		$back = $('#printable_area .invitation_back')[0];
		$back = $($back);
		$('#folded_invite').removeClass("selected")
		$('#flat_invite').addClass("selected")
		$('#printable_area').html($front.clone().css({float: "left", clear: "none"}));
		$('#printable_area').append($back.clone().css({float: "left", clear: "none"}));
		$('#printable_area').append($front.clone().css({float: "left", clear: "none"}));
		$('#printable_area').append($back.clone().css({float: "left", clear: "none"}));
	})
	
   $('#printer_icon').click(function() {
	 	  $('#ui_print_alert').fadeIn();
	 })
	 
	 $('#print_now').click(function() {
	  	$('#ui_print_alert').hide();
		 window.print();
	 })
	 
	 $('.close').click(function() {
	   $('#ui_print_alert').fadeOut();
	 })
</script>

</body>

</html>